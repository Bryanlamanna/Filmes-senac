<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <link rel="stylesheet" href="/style.css" type="text/css">
    <title>Listar</title>
</head>
<body>
    <div class="info">
    <h1>Listar Filmes</h1>
    <a href="/inicio">
        <button class="btn btn-primary">
            Inicio
        </button>
    </a>

    <div class="container detail-cont" style="display: none;">
      <h1 class="text-center mt-5 mb-4">Detalhes do Filme</h1>
      <div class="row">
        <div class="col-md-8">
          
          <img src="https://via.placeholder.com/800x400" class="banner" alt="Banner do Filme">
          <h2 class="titulo-detalhe">Título do Filme</h2>
          <p class="sinopse-detalhe">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae felis vitae magna euismod lobortis nec in turpis. Nullam pharetra venenatis vestibulum. Integer tempus, nunc sit amet aliquam commodo, metus nisi eleifend mauris, eget maximus nisl nisl a ante. In hac habitasse platea dictumst. Ut lacinia eleifend nulla, vel lacinia leo iaculis in. Integer vitae risus vel nisl ultrices pharetra.
          </p>
          <hr>
          <form action="/analisar" class="analisarFilme" method="post"> 
            <h3>Adicionar Análise</h3>
            <div class="form-group">
              <input type="number" style="visibility: visible;" class="indexFilme" name="idFilme">
              <textarea class="form-control" rows="4" placeholder="Escreva sua análise aqui" name="analise"></textarea>
              <input style="width: 6em; margin-top: 1em;" type="number" class="form-control" placeholder="Nota" id="nota" name="nota">
            </div>  
            <button type="submit" class="btn btn-primary">Enviar Análise</button>
          </form>
        
        </div>
        <div class="col-md-4">
          <h3>Outros Detalhes</h3>
          <ul class="list-group">
            <li class="list-group-item subtitulo-detalhe">Título: Nome do Filme</li>
            <li class="list-group-item genero-detalhe">Gênero: Gênero do Filme</li>
            <li class="list-group-item data-detalhe">Ano de Lançamento: YYYY</li>
            <!-- Adicione mais detalhes conforme necessário -->
          </ul>
        </div>
      </div>
    </div>
</div>

    <div class="container list-cont">
        <h1 class="text-center mt-5 mb-4">Catálogo de Filmes</h1>
        <div class="row">
          <div class="col-md-4">
            <div class="card">
              <img src="https://via.placeholder.com/300" class="card-img-top" alt="...">
              <div class="card-body">
                <h5 class="card-title">Título do Filme 1</h5>
                <p class="card-text">Descrição breve do filme.</p>
                <a class="btn btn-primary detalheBtn">Detalhes</a>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <img src="https://via.placeholder.com/300" class="card-img-top" alt="...">
              <div class="card-body">
                <h5 class="card-title">Título do Filme 2</h5>
                <p class="card-text">Descrição breve do filme.</p>
                <a class="btn btn-primary detalheBtn">Detalhes</a>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <img src="https://via.placeholder.com/300" class="card-img-top" alt="...">
              <div class="card-body">
                <h5 class="card-title">Título do Filme 3</h5>
                <p class="card-text">Descrição breve do filme.</p>
                <a class="btn btn-primary detalheBtn">Detalhes</a>
              </div>
            </div>
          </div>
          <!-- Adicione mais col-md-4 conforme necessário para mais filmes -->
        </div>
        <div class="row">
            <div class="col-md-4">
              <div class="card">
                <img src="https://via.placeholder.com/300" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Título do Filme 1</h5>
                  <p class="card-text">Descrição breve do filme.</p>
                  <a class="btn btn-primary detalheBtn">Detalhes</a>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <img src="https://via.placeholder.com/300" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Título do Filme 2</h5>
                  <p class="card-text">Descrição breve do filme.</p>
                  <a class="btn btn-primary detalheBtn">Detalhes</a>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <img src="https://via.placeholder.com/300" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Título do Filme 3</h5>
                  <p class="card-text">Descrição breve do filme.</p>
                  <a class="btn btn-primary detalheBtn">Detalhes</a>
                </div>
              </div>
            </div>
            <!-- Adicione mais col-md-4 conforme necessário para mais filmes -->
        </div>
        <div class="row">
            <div class="col-md-4">
              <div class="card">
                <img src="https://via.placeholder.com/300" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Título do Filme 1</h5>
                  <p class="card-text">Descrição breve do filme.</p>
                  <a class="btn btn-primary detalheBtn">Detalhes</a>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <img src="https://via.placeholder.com/300" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Título do Filme 2</h5>
                  <p class="card-text">Descrição breve do filme.</p>
                  <a class="btn btn-primary detalheBtn">Detalhes</a>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <img src="https://via.placeholder.com/300" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Título do Filme 3</h5>
                  <p class="card-text">Descrição breve do filme.</p>
                  <a class="btn btn-primary detalheBtn">Detalhes</a>
                </div>
              </div>
            </div>
            <!-- Adicione mais col-md-4 conforme necessário para mais filmes -->
        </div>
      </div>

</div>
    <script src="/script.js"></script>
    <script>


      /* CODIGO PARA RETORNAR A LISTA DE FILMES E DISTRIBUIR NA PAGINA LISTAR.HTML'*/   
  $(document).ready(function() {
              $.ajax({
                  url: "/listar-filmes-json",
                  type: "GET",
                  success: function(filmes) {
                      const titulos = document.querySelectorAll('.card-title');  
                      const subtitulos = document.querySelectorAll('.card-text'); 
                      if (titulos===null) {
                          console.error("Erro ao obter lista de filmes:");
                      } else {
                          for (let i = 0; i < filmes.length; i++) {
                              titulos[i].textContent = filmes[i].titulo;

                          }
                          for (let i = 0; i < filmes.length; i++) {
                              subtitulos[i].textContent = filmes[i].genero; 
                              
                          }
                      }
                          
                          
                  },
                  error: function(xhr, status, error) {
                      console.error("Erro ao obter lista de filmes:", status, error);
                  }
              });
          });



    </script>  
</body>
</html>